<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
	#wrap{
		position: relative;
		height: 400px;
		width: 200px;
	}
	#wrap span{
		position: absolute;
		width: 2px;
		height: 2px;
		border: 3px solid #000;
	}
</style>
</head>
<body>
<div id="wrap"></div>
<div>
	<input type="text" id="text" value="叡" onkeyup="draw()" autofocus="">
	<button onclick="draw()" id="btn">确定</button>
</div>
<script>
	var canvas = document.createElement('canvas');
	var ctx = canvas.getContext('2d');
	var cols = 100;
	var	rows = 100;
	function lattice(txt){
		cols = txt.length * 24
		canvas.width = cols;
		canvas.height = rows;
		ctx.clearRect(0,0,cols,rows);
		ctx.font = "24px SimSun";
		ctx.fillStyle = "#000";
	    ctx.fillText(txt, 0, 24);
		var data = ctx.getImageData(0, 0, cols, rows)
		var len = data.data.length;
		var res = '';
		for(var i = 1; i <= rows; i++){
			for(var j = 1; j <= cols; j++){
				var pos = (( i-1 )*cols+( j ))*4 -1;
				if(data.data[pos] > 0){
					res += `<span class="black" style="left: ${j*10}px;top: ${i*10}px"></span>`
				}
			}
		}
		wrap.innerHTML = res;
	}
	function draw(){
		var txt = text.value;
		if(txt){
			lattice(txt);
		}
	}	
	draw();
</script>
</body>
</html>
